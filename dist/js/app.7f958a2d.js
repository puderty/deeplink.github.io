(function(){var e={409:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=t.SessionCrypto=t.OKXWalletConnector=t.OKXTonConnect=void 0;var i=n(5193);Object.defineProperty(t,"OKXTonConnect",{enumerable:!0,get:function(){return i.OKXTonConnect}});var s=n(2196);Object.defineProperty(t,"OKXWalletConnector",{enumerable:!0,get:function(){return s.OKXWalletConnector}}),r(n(166),t);var c=n(7586);Object.defineProperty(t,"SessionCrypto",{enumerable:!0,get:function(){return c.SessionCrypto}});var a=n(7413);Object.defineProperty(t,"ConnectionManager",{enumerable:!0,get:function(){return a.ConnectionManager}})},5464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;var o=n(8888);Object.defineProperty(t,"SessionCrypto",{enumerable:!0,get:function(){return o.SessionCrypto}})},8888:function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;const r=n(1778),i=o(n(2132));class s{constructor(e){this.nonceLength=24,this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=(0,r.toHexString)(this.keyPair.publicKey)}createKeypair(){return i.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,r.hexToByteArray)(e.publicKey),secretKey:(0,r.hexToByteArray)(e.secretKey)}}createNonce(){return console.log("in session crypto"),i.default.randomBytes(this.nonceLength)}encrypt(e,t){const n=(new TextEncoder).encode(e),o=this.createNonce(),s=i.default.box(n,o,t,this.keyPair.secretKey);return(0,r.concatUint8Arrays)(o,s)}decrypt(e,t){const[n,o]=(0,r.splitToUint8Arrays)(e,this.nonceLength),s=i.default.box.open(o,n,t,this.keyPair.secretKey);if(!s)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${this.keyPair.publicKey.toString()} \n keypair secretkey: ${this.keyPair.secretKey.toString()}`);return(new TextDecoder).decode(s)}stringifyKeypair(){return{publicKey:(0,r.toHexString)(this.keyPair.publicKey),secretKey:(0,r.toHexString)(this.keyPair.secretKey)}}}t.SessionCrypto=s},912:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4431),t),r(n(5464),t),r(n(1778),t)},9198:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CHAIN=void 0,function(e){e["MAINNET"]="-239",e["TESTNET"]="-3"}(n||(t.CHAIN=n={}))},4748:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3373:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(6991),t),r(n(4748),t)},6991:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4431:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.CHAIN=void 0,r(n(3373),t),r(n(5727),t);var i=n(9198);Object.defineProperty(t,"CHAIN",{enumerable:!0,get:function(){return i.CHAIN}})},5727:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4308),t),r(n(2199),t)},5183:function(e,t){"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.CONNECT_EVENT_ERROR_CODES=void 0,function(e){e[e["UNKNOWN_ERROR"]=0]="UNKNOWN_ERROR",e[e["BAD_REQUEST_ERROR"]=1]="BAD_REQUEST_ERROR",e[e["MANIFEST_NOT_FOUND_ERROR"]=2]="MANIFEST_NOT_FOUND_ERROR",e[e["MANIFEST_CONTENT_ERROR"]=3]="MANIFEST_CONTENT_ERROR",e[e["UNKNOWN_APP_ERROR"]=100]="UNKNOWN_APP_ERROR",e[e["USER_REJECTS_ERROR"]=300]="USER_REJECTS_ERROR",e[e["METHOD_NOT_SUPPORTED"]=400]="METHOD_NOT_SUPPORTED"}(n||(t.CONNECT_EVENT_ERROR_CODES=n={})),function(e){e[e["UNKNOWN_ERROR"]=0]="UNKNOWN_ERROR",e[e["METHOD_NOT_SUPPORTED"]=400]="METHOD_NOT_SUPPORTED"}(o||(t.CONNECT_ITEM_ERROR_CODES=o={}))},4308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.CONNECT_EVENT_ERROR_CODES=void 0;var o=n(5183);Object.defineProperty(t,"CONNECT_EVENT_ERROR_CODES",{enumerable:!0,get:function(){return o.CONNECT_EVENT_ERROR_CODES}}),Object.defineProperty(t,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return o.CONNECT_ITEM_ERROR_CODES}})},987:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DISCONNECT_ERROR_CODES=void 0,function(e){e[e["UNKNOWN_ERROR"]=0]="UNKNOWN_ERROR",e[e["BAD_REQUEST_ERROR"]=1]="BAD_REQUEST_ERROR",e[e["UNKNOWN_APP_ERROR"]=100]="UNKNOWN_APP_ERROR",e[e["METHOD_NOT_SUPPORTED"]=400]="METHOD_NOT_SUPPORTED"}(n||(t.DISCONNECT_ERROR_CODES=n={}))},2199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISCONNECT_ERROR_CODES=t.SIGN_DATA_ERROR_CODES=t.SEND_TRANSACTION_ERROR_CODES=void 0;var o=n(9680);Object.defineProperty(t,"SEND_TRANSACTION_ERROR_CODES",{enumerable:!0,get:function(){return o.SEND_TRANSACTION_ERROR_CODES}});var r=n(249);Object.defineProperty(t,"SIGN_DATA_ERROR_CODES",{enumerable:!0,get:function(){return r.SIGN_DATA_ERROR_CODES}});var i=n(987);Object.defineProperty(t,"DISCONNECT_ERROR_CODES",{enumerable:!0,get:function(){return i.DISCONNECT_ERROR_CODES}})},9680:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SEND_TRANSACTION_ERROR_CODES=void 0,function(e){e[e["UNKNOWN_ERROR"]=0]="UNKNOWN_ERROR",e[e["BAD_REQUEST_ERROR"]=1]="BAD_REQUEST_ERROR",e[e["UNKNOWN_APP_ERROR"]=100]="UNKNOWN_APP_ERROR",e[e["USER_REJECTS_ERROR"]=300]="USER_REJECTS_ERROR",e[e["METHOD_NOT_SUPPORTED"]=400]="METHOD_NOT_SUPPORTED"}(n||(t.SEND_TRANSACTION_ERROR_CODES=n={}))},249:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SIGN_DATA_ERROR_CODES=void 0,function(e){e[e["UNKNOWN_ERROR"]=0]="UNKNOWN_ERROR",e[e["BAD_REQUEST_ERROR"]=1]="BAD_REQUEST_ERROR",e[e["UNKNOWN_APP_ERROR"]=100]="UNKNOWN_APP_ERROR",e[e["USER_REJECTS_ERROR"]=300]="USER_REJECTS_ERROR",e[e["METHOD_NOT_SUPPORTED"]=400]="METHOD_NOT_SUPPORTED"}(n||(t.SIGN_DATA_ERROR_CODES=n={}))},2307:function(e,t,n){"use strict";n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;const r=o(n(3683));function i(e,t){const n=r.default.encodeBase64(e);return t?encodeURIComponent(n):n}function s(e,t){return t&&(e=decodeURIComponent(e)),r.default.decodeBase64(e)}function c(e,t=!1){let n;return e instanceof Uint8Array?n=e:("string"!==typeof e&&(e=JSON.stringify(e)),n=r.default.decodeUTF8(e)),i(n,t)}function a(e,t=!1){const n=s(e,t);return{toString(){return r.default.encodeUTF8(n)},toObject(){try{return JSON.parse(r.default.encodeUTF8(n))}catch(e){return null}},toUint8Array(){return n}}}t.Base64={encode:c,decode:a}},401:function(e,t,n){"use strict";function o(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function r(e,t){if(t>=e.length)throw new Error("Index is out of buffer");const n=e.slice(0,t),o=e.slice(t);return[n,o]}function i(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t}function s(e){if(e.length%2!==0)throw new Error(`Cannot convert ${e} to bytesArray`);const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}n(6573),n(8100),n(7936),n(7467),n(4732),n(9577),Object.defineProperty(t,"__esModule",{value:!0}),t.concatUint8Arrays=o,t.splitToUint8Arrays=r,t.toHexString=i,t.hexToByteArray=s},1778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=t.hexToByteArray=t.toHexString=t.splitToUint8Arrays=t.concatUint8Arrays=t.Base64=void 0;var o=n(2307);Object.defineProperty(t,"Base64",{enumerable:!0,get:function(){return o.Base64}});var r=n(401);Object.defineProperty(t,"concatUint8Arrays",{enumerable:!0,get:function(){return r.concatUint8Arrays}}),Object.defineProperty(t,"splitToUint8Arrays",{enumerable:!0,get:function(){return r.splitToUint8Arrays}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return r.toHexString}}),Object.defineProperty(t,"hexToByteArray",{enumerable:!0,get:function(){return r.hexToByteArray}});var i=n(1777);Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return i.isNode}})},1777:function(e,t){"use strict";function n(){return"undefined"!==typeof process&&null!=process.versions&&null!=process.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=n},9069:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tonConnectSdkVersion=void 0,t.tonConnectSdkVersion="3.0.0"},8621:function(e,t,n){"use strict";n(4114);var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=void 0;const r=n(9533),i=n(6136),s=n(3533);class c{constructor(e){this.pendingRequests=new Map,this.disconnectListener=[],this.connectionManager=e,this.connectionStorage=new r.BridgeConnectionStorage(new i.DefaultStorage),this.connectionManager.addListener("ton_sdk_response",this.handleResponse,(function(){}))}addDisconnectListener(e){this.disconnectListener.push(e)}disconnect(){this.pendingRequests.clear()}getRequestId(){return o(this,void 0,void 0,(function*(){const e=(yield this.connectionStorage.getNextRpcRequestId()).toString();return yield this.connectionStorage.increaseNextRpcRequestId(),console.log(`getRequestId   =====>   ${e}`),e}))}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,t,n){return o(this,void 0,void 0,(function*(){const o=yield this.getRequestId();(0,s.callForSuccess)((()=>this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:o})))),n),this.bindRequestForPromise(o,t)}))}handleResponse(e){if(console.log("handleResponse  ===> "),"requestId"in e){console.log("handleResponse  ===> in response");let t=e.requestId;const n=this.pendingRequests.get(t);n?(console.log("handleResponse  ===> find resolve",n),n(e),this.pendingRequests.delete(t)):(console.log("handleResponse  ===>  not find resolve"),"disconnect"===e.method&&(this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],this.disconnect()))}}}t.Engine=c},8232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrongAddressError=void 0;var o=n(232);Object.defineProperty(t,"WrongAddressError",{enumerable:!0,get:function(){return o.WrongAddressError}})},232:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrongAddressError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Passed address is in incorrect format."}}t.WrongAddressError=r},7181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseHexError=void 0;var o=n(2050);Object.defineProperty(t,"ParseHexError",{enumerable:!0,get:function(){return o.ParseHexError}})},2050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParseHexError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Passed hex is in incorrect format."}}t.ParseHexError=r},2263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DappMetadataError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Passed DappMetadata is in incorrect format."}}t.DappMetadataError=r},1923:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownError=t.TonConnectError=void 0,r(n(1820),t),r(n(4125),t),r(n(3729),t),r(n(4972),t),r(n(8232),t),r(n(7181),t);var i=n(1833);Object.defineProperty(t,"TonConnectError",{enumerable:!0,get:function(){return i.TonConnectError}});var s=n(717);Object.defineProperty(t,"UnknownError",{enumerable:!0,get:function(){return s.UnknownError}})},8001:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserRejectsError=void 0;var o=n(1347);Object.defineProperty(t,"UserRejectsError",{enumerable:!0,get:function(){return o.UserRejectsError}})},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ManifestContentErrorError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}}t.ManifestContentErrorError=r},7661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ManifestNotFoundError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}}t.ManifestNotFoundError=r},1347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserRejectsError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"User rejects the action in the wallet."}}t.UserRejectsError=r},8496:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8001),t)},1820:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(8496),t),r(n(1143),t)},2236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BadRequestError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Request to the wallet contains errors."}}t.BadRequestError=r},1143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownAppError=t.BadRequestError=void 0;var o=n(2236);Object.defineProperty(t,"BadRequestError",{enumerable:!0,get:function(){return o.BadRequestError}});var r=n(2723);Object.defineProperty(t,"UnknownAppError",{enumerable:!0,get:function(){return r.UnknownAppError}})},2723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownAppError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"App tries to send rpc request to the injected wallet while not connected."}}t.UnknownAppError=r},3729:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalstorageNotFoundError=void 0;var o=n(8104);Object.defineProperty(t,"LocalstorageNotFoundError",{enumerable:!0,get:function(){return o.LocalstorageNotFoundError}})},8104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalstorageNotFoundError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Storage was not specified in the `DappMetadata` and default `localStorage` was not detected in the environment."}}t.LocalstorageNotFoundError=r},1833:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TonConnectError=void 0;class n extends Error{get info(){return""}constructor(e){super(e),this.message=`${n.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${e?"\n"+e:""}`,Object.setPrototypeOf(this,n.prototype)}}t.TonConnectError=n,n.prefix="[TON_CONNECT_SDK_ERROR]"},717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownError=void 0;const o=n(1833);class r extends o.TonConnectError{}t.UnknownError=r},4125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletNotInjectedError=t.WalletNotConnectedError=t.WalletAlreadyConnectedError=void 0;var o=n(8179);Object.defineProperty(t,"WalletAlreadyConnectedError",{enumerable:!0,get:function(){return o.WalletAlreadyConnectedError}});var r=n(1138);Object.defineProperty(t,"WalletNotConnectedError",{enumerable:!0,get:function(){return r.WalletNotConnectedError}});var i=n(7681);Object.defineProperty(t,"WalletNotInjectedError",{enumerable:!0,get:function(){return i.WalletNotInjectedError}})},8179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletAlreadyConnectedError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}}t.WalletAlreadyConnectedError=r},1138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletNotConnectedError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}}t.WalletNotConnectedError=r},7681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletNotInjectedError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}}t.WalletNotInjectedError=r},8949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletNotSupportFeatureError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"Wallet doesn't support requested feature method."}}t.WalletNotSupportFeatureError=r},7887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchWalletsError=void 0;const o=n(1833);class r extends o.TonConnectError{get info(){return"An error occurred while fetching the wallets list."}}t.FetchWalletsError=r},4972:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchWalletsError=void 0;var o=n(7887);Object.defineProperty(t,"FetchWalletsError",{enumerable:!0,get:function(){return o.FetchWalletsError}})},5410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectErrorsParser=void 0;const o=n(1923),r=n(63),i=n(7661),s=n(1923),c=n(912),a={[c.CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR]:s.UnknownError,[c.CONNECT_EVENT_ERROR_CODES.USER_REJECTS_ERROR]:o.UserRejectsError,[c.CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR]:o.BadRequestError,[c.CONNECT_EVENT_ERROR_CODES.UNKNOWN_APP_ERROR]:o.UnknownAppError,[c.CONNECT_EVENT_ERROR_CODES.MANIFEST_NOT_FOUND_ERROR]:i.ManifestNotFoundError,[c.CONNECT_EVENT_ERROR_CODES.MANIFEST_CONTENT_ERROR]:r.ManifestContentErrorError};class u{parseError(e){let t=s.UnknownError;return e.code in a&&(t=a[e.code]||s.UnknownError),new t(e.message)}}t.connectErrorsParser=new u},5175:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcParser=void 0;class n{isError(e){return"error"in e}}t.RpcParser=n},3985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTransactionParser=void 0;const o=n(912),r=n(1923),i=n(5175),s={[o.SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR]:r.UnknownError,[o.SEND_TRANSACTION_ERROR_CODES.USER_REJECTS_ERROR]:r.UserRejectsError,[o.SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR]:r.BadRequestError,[o.SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR]:r.UnknownAppError};class c extends i.RpcParser{convertToRpcRequest(e){return{method:"sendTransaction",params:[JSON.stringify(e)]}}parseAndThrowError(e){let t=r.UnknownError;throw e.error.code in s&&(t=s[e.error.code]||r.UnknownError),new t(e.error.message)}convertFromRpcResponse(e){return{boc:e.result}}}t.sendTransactionParser=new c},8086:function(e,t,n){"use strict";n(4114);var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeProvider=void 0;const r=n(912),i=n(9318),s=n(9533),c=n(3507),a=n(7413),u=n(9069),l=n(8621),d=n(6496),f=n(1923);class h{constructor(e,t){this.storage=e,this.type="http",this.standardUniversalLink="https://www.okx.com/download",this.standardDeeplink="okx://web3/wallet/okxconnect",this.listeners=[],this.connectManager=new a.ConnectionManager,this.engine=new l.Engine(this.connectManager),this.connectionStorage=new s.BridgeConnectionStorage(e),this.walletConnectionSource=t}static fromStorage(e){return o(this,void 0,void 0,(function*(){const t=new s.BridgeConnectionStorage(e),n=yield t.getHttpConnection();return(0,i.isPendingConnectionHttp)(n)?null:new h(e,{bridgeUrl:(new d.WalletsListManager).getWallets()[0].bridgeUrl})}))}connect(e,t){return o(this,void 0,void 0,(function*(){console.log("provider-----message>>>",e),console.log("provider-----redirect>>>",t);try{const n=yield this.connectManager.connect(),i=yield this.engine.getRequestId(),s={protocolVer:u.tonConnectSdkVersion,topic:n.channelId,clientId:n.clientId,requestId:i,dappInfo:e.dappInfo,requests:e.items,redirect:null!==t&&void 0!==t?t:"none"};console.log("provider-----connectRequest>>>",s);const c=JSON.stringify(s);console.log("provider-----connectRequestStr>>>",c);const a=Buffer.from(c).toString("base64");console.log("provider-----base64Encoded>>>",a);const l=`${this.standardDeeplink}?param=${a}`;console.log("provider-----deeplinkUrl>>>",l);const d=encodeURIComponent(l),f="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;console.log("provider-----universalLink>>>",f);const h=`${f}?deeplink=${d}`;console.log("provider-----fullUrl>>>",h),this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,channelId:n.clientId}).then((()=>o(this,void 0,void 0,(function*(){var e,t;console.log("跳转链接-----\x3e>>",h),null===(e=this.engine)||void 0===e||e.bindRequestForPromise(i,this.connectListener.bind(this)),null===(t=this.engine)||void 0===t||t.addDisconnectListener(this.disconnectListener.bind(this));const n={name:"ton_addr",address:"这是地址aaa",network:r.CHAIN.MAINNET,walletStateInit:"walletStateInit",publicKey:"Pub"},o={platform:"iphone",appName:"appName-Ton",appVersion:"1.0.0",maxProtocolVersion:2,features:[{name:"SendTransaction",maxMessages:4}]},s={requestId:"0",method:"connect",payload:{response:[n],wallet:o}};console.log("测试结果数据---\x3e>>",s)}))))}catch(n){throw console.error("Error connecting:",n),new f.TonConnectError("connect error")}}))}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter((t=>t!==e))}disconnectListener(){return o(this,void 0,void 0,(function*(){const e={event:"disconnect",requestId:Number(1),payload:{}};this.listeners.forEach((t=>t(e))),yield this.closeConnection()}))}connectListener(e){return o(this,void 0,void 0,(function*(){if(console.log("Wallet message received:",e),void 0!==e.requestId){const t=yield this.connectionStorage.getLastWalletEventId();if(void 0!==t&&Number(e.requestId)<=t)return void(0,c.logError)(`Received event id (=${e.requestId}) must be greater than stored last wallet event id (=${t}) `)}const t=this.listeners;if("connect"===e.method){const n=e.payload.response.find((e=>"ton_addr"===e.name)),o=e.payload.response.find((e=>"ton_proof"===e.name)),r=e.payload.wallet,i=[];n&&i.push(n),o&&i.push(o);const s=yield this.connectionStorage.getConnection();let c;c=s&&s.connectionSource?s.connectionSource:this.walletConnectionSource;const a={type:"http",lastWalletEventId:Number(e.requestId),connectEvent:{event:"connect",payload:{items:i,device:r}},connectionSource:c,channelId:null===s||void 0===s?void 0:s.channelId,nextRpcRequestId:0};yield this.connectionStorage.storeConnection(a);const u={event:"connect",requestId:Number(e.requestId),payload:a.connectEvent.payload};console.log("Wallet message ---\x3e>success>>>:",u),t.forEach((e=>e(u)))}else if("connect_error"===e.method){yield this.connectionStorage.storeLastWalletEventId(Number(e.requestId));const n={event:"connect_error",requestId:Number(e.requestId),payload:e.payload};t.forEach((e=>e(n)))}}))}closeConnection(){return o(this,void 0,void 0,(function*(){var e,t;console.log("close connection"),this.listeners=[],null===(e=this.engine)||void 0===e||e.disconnect(),yield null===(t=this.connectManager)||void 0===t?void 0:t.disconnect(),yield this.connectionStorage.removeConnection()}))}restoreConnection(){return o(this,void 0,void 0,(function*(){const e=yield this.connectionStorage.getHttpConnection();if(e&&!(0,i.isPendingConnectionHttp)(e))if(e.channelId){const t={event:"connect",requestId:Number(0),payload:e.connectEvent.payload};this.listeners.forEach((e=>e(t)));e.channelId}else yield this.closeConnection()}))}disconnect(){return o(this,void 0,void 0,(function*(){return new Promise((e=>o(this,void 0,void 0,(function*(){let t=!1;const n=()=>{t||(t=!0,this.closeConnection().then(e))};try{yield this.sendRequest({method:"disconnect",params:[]},{onRequestSent:n,attempts:1})}catch(o){(0,c.logDebug)("Disconnect error:",o),t||this.closeConnection().then(e)}finally{n()}}))))}))}sendRequest(e,t){return console.log("sendTransaction  sendRequest"),new Promise(((n,r)=>o(this,void 0,void 0,(function*(){var o,r;yield null===(o=this.engine)||void 0===o?void 0:o.send(e,(function(e){n(e)}),{attempts:null===t||void 0===t?void 0:t.attempts}),null===(r=null===t||void 0===t?void 0:t.onRequestSent)||void 0===r||r.call(t)}))))}}t.BridgeProvider=h},9318:function(e,t){"use strict";function n(e){return!("connectEvent"in e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPendingConnectionHttp=n},3469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FALLBACK_WALLETS_LIST=void 0,t.FALLBACK_WALLETS_LIST=[{app_name:"okxTonWallet",name:"OKX Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",universal_url:"https://www.okx.com/download",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["chrome","safari","firefox","ios","android"]}]},9533:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeConnectionStorage=void 0;const r=n(1923);class i{constructor(e){this.storage=e,this.storeKey="okx-ton-connect-storage_bridge-connection"}storeConnection(e){return o(this,void 0,void 0,(function*(){return this.storage.setItem(this.storeKey,JSON.stringify(e))}))}removeConnection(){return o(this,void 0,void 0,(function*(){return this.storage.removeItem(this.storeKey)}))}getConnection(){return o(this,void 0,void 0,(function*(){const e=yield this.storage.getItem(this.storeKey);if(!e)return null;let t;return t=JSON.parse(e),t}))}getHttpConnection(){return o(this,void 0,void 0,(function*(){const e=yield this.getConnection();if(!e)throw new r.TonConnectError("Trying to read HTTP connection source while nothing is stored");return e}))}storeLastWalletEventId(e){return o(this,void 0,void 0,(function*(){const t=yield this.getConnection();if(t&&"connectEvent"in t)return t.lastWalletEventId=e,this.storeConnection(t)}))}getLastWalletEventId(){return o(this,void 0,void 0,(function*(){const e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId}))}increaseNextRpcRequestId(){return o(this,void 0,void 0,(function*(){const e=yield this.getConnection();if(e&&"nextRpcRequestId"in e){const t=e.nextRpcRequestId||1;return e.nextRpcRequestId=t+1,this.storeConnection(e)}}))}getNextRpcRequestId(){return o(this,void 0,void 0,(function*(){const e=yield this.getConnection();return e&&"nextRpcRequestId"in e?e.nextRpcRequestId||1:0}))}}t.BridgeConnectionStorage=i},6136:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultStorage=void 0;const r=n(7134);class i{constructor(){this.localStorage=(0,r.tryGetLocalStorage)()}getItem(e){return o(this,void 0,void 0,(function*(){return this.localStorage.getItem(e)}))}removeItem(e){return o(this,void 0,void 0,(function*(){this.localStorage.removeItem(e)}))}setItem(e,t){return o(this,void 0,void 0,(function*(){this.localStorage.setItem(e,t)}))}}t.DefaultStorage=i},6098:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=void 0;class n{static getInstance(){return n.instance||(n.instance=new n),n.instance}constructor(){this.storage={}}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(e){var t;return null!==(t=this.storage[e])&&void 0!==t?t:null}key(e){var t;const n=Object.keys(this.storage);return e<0||e>=n.length?null:null!==(t=n[e])&&void 0!==t?t:null}removeItem(e){delete this.storage[e]}setItem(e,t){this.storage[e]=t}}t.InMemoryStorage=n},5193:function(e,t,n){"use strict";n(4114);var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonConnect=void 0;const i=n(1923),s=n(6496),c=n(8086),a=n(6136),u=n(7677),l=n(6903),d=n(3985),f=n(9069),h=n(2263),p=n(9533),v=n(5410),E=n(3507),g=n(7661),y=n(63);class O{constructor(e){if(this.walletsList=new s.WalletsListManager,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.storage=new a.DefaultStorage,!(null===e||void 0===e?void 0:e.metaData))throw new h.DappMetadataError("Dapp metaData can not be null");this.dappSettings={metaData:e.metaData},this.walletsList=new s.WalletsListManager,this.tracker=new l.TonConnectTracker({tonConnectSdkVersion:f.tonConnectSdkVersion}),this.bridgeConnectionStorage=new p.BridgeConnectionStorage(this.storage)}get connected(){return null!==this._wallet}get account(){var e;return(null===(e=this._wallet)||void 0===e?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach((e=>e(this._wallet)))}connect(e){return o(this,void 0,void 0,(function*(){var t;if(console.log("sdk调试打印---\x3e> connect",e),this.connected)throw new i.WalletAlreadyConnectedError;null===(t=this.provider)||void 0===t||t.closeConnection();const n=this.getWallets()[0];return console.log("sdk调试打印---\x3e> walletInfo---\x3e>>>>",n),this.provider=new c.BridgeProvider(this.storage,{universalLink:n.universalLink,bridgeUrl:n.bridgeUrl}),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),this.provider.connect(this.createConnectRequest(e),null===e||void 0===e?void 0:e.redirect)}))}walletEventsListener(e){switch(e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){const t=e.items.find((e=>"ton_addr"===e.name)),n=e.items.find((e=>"ton_proof"===e.name));if(!t)throw new i.TonConnectError("ton_addr connection item was not found");const o={device:e.device,provider:this.provider.type,account:{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}};n&&(o.connectItems={tonProof:n}),this.wallet=o,console.log("Ton connect ---\x3e>onWalletConnected>>>:",o),this.tracker.trackConnectionCompleted(o)}onWalletConnectError(e){var t;const n=v.connectErrorsParser.parseError(e);if(this.statusChangeErrorSubscriptions.forEach((e=>e(n))),(0,E.logDebug)(n),this.tracker.trackConnectionError(null!==(t=e.message)&&void 0!==t?t:"",e.code),n instanceof g.ManifestNotFoundError||n instanceof y.ManifestContentErrorError)throw(0,E.logError)(n),n}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}disconnect(){return o(this,void 0,void 0,(function*(){var e;if(!this.connected)throw new i.WalletNotConnectedError;this.onWalletDisconnected("dapp"),yield null===(e=this.provider)||void 0===e?void 0:e.disconnect()}))}getWallets(){return this.walletsList.getWallets()}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter((t=>t!==e)),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter((e=>e!==t)))}}restoreConnection(){return o(this,void 0,void 0,(function*(){var e;this.tracker.trackConnectionRestoringStarted();let t=null;try{t=yield c.BridgeProvider.fromStorage(this.storage)}catch(n){return this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),null===t||void 0===t||t.closeConnection(),void(t=null)}return t?(null===(e=this.provider)||void 0===e||e.closeConnection(),this.provider=t,t.listen(this.walletEventsListener.bind(this)),this.provider.restoreConnection()):((0,E.logError)("Provider is not restored"),void this.tracker.trackConnectionRestoringError("Provider is not restored"))}))}sendTransaction(e,t){return o(this,void 0,void 0,(function*(){this.checkConnection(),(0,u.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:e.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,e),console.log("sendTransaction  start");const{validUntil:n}=e,o=r(e,["validUntil"]),i=e.from||this.account.address,s=e.network||this.account.chain;console.log("sendTransaction  before sendRequest");const c=yield this.provider.sendRequest(d.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},o),{valid_until:n,from:i,network:s})),{onRequestSent:null===t||void 0===t?void 0:t.onRequestSent});if(d.sendTransactionParser.isError(c))return this.tracker.trackTransactionSigningFailed(this.wallet,e,c.error.message,c.error.code),d.sendTransactionParser.parseAndThrowError(c);const a=d.sendTransactionParser.convertFromRpcResponse(c);return this.tracker.trackTransactionSigned(this.wallet,e,a),a}))}checkConnection(){if(!this.connected)throw new i.WalletNotConnectedError}createConnectRequest(e){const t=[{name:"ton_addr"}];return(null===e||void 0===e?void 0:e.tonProof)&&t.push({name:"ton_proof",payload:e.tonProof}),{dappInfo:this.dappSettings.metaData,items:t}}}t.OKXTonConnect=O},7699:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserEventDispatcher=void 0;const r=n(7134);class i{constructor(){this.window=(0,r.getWindow)()}dispatchEvent(e,t){return o(this,void 0,void 0,(function*(){var n;const o=new CustomEvent(e,{detail:t});null===(n=this.window)||void 0===n||n.dispatchEvent(o)}))}addEventListener(e,t,n){return o(this,void 0,void 0,(function*(){var o;return null===(o=this.window)||void 0===o||o.addEventListener(e,t,n),()=>{var n;return null===(n=this.window)||void 0===n?void 0:n.removeEventListener(e,t)}}))}}t.BrowserEventDispatcher=i},6903:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TonConnectTracker=void 0;const r=n(1489),i=n(7699);class s{get version(){return(0,r.createVersionInfo)({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}constructor(e){this.eventPrefix="ton-connect-",this.tonConnectUiVersion=null,this.eventDispatcher=new i.BrowserEventDispatcher,this.tonConnectSdkVersion=e.tonConnectSdkVersion,this.init().catch()}init(){return o(this,void 0,void 0,(function*(){try{yield this.setRequestVersionHandler(),this.tonConnectUiVersion=yield this.requestTonConnectUiVersion()}catch(e){}}))}setRequestVersionHandler(){return o(this,void 0,void 0,(function*(){yield this.eventDispatcher.addEventListener("ton-connect-request-version",(()=>o(this,void 0,void 0,(function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-response-version",(0,r.createResponseVersionEvent)(this.tonConnectSdkVersion))}))))}))}requestTonConnectUiVersion(){return o(this,void 0,void 0,(function*(){return new Promise(((e,t)=>o(this,void 0,void 0,(function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-ui-response-version",(t=>{e(t.detail.version)}),{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-ui-request-version",(0,r.createRequestVersionEvent)())}catch(n){t(n)}}))))}))}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch(t){}}trackConnectionStarted(...e){try{const t=(0,r.createConnectionStartedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackConnectionCompleted(...e){try{const t=(0,r.createConnectionCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackConnectionError(...e){try{const t=(0,r.createConnectionErrorEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackConnectionRestoringStarted(...e){try{const t=(0,r.createConnectionRestoringStartedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackConnectionRestoringCompleted(...e){try{const t=(0,r.createConnectionRestoringCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackConnectionRestoringError(...e){try{const t=(0,r.createConnectionRestoringErrorEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackDisconnection(...e){try{const t=(0,r.createDisconnectionEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackTransactionSentForSignature(...e){try{const t=(0,r.createTransactionSentForSignatureEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackTransactionSigned(...e){try{const t=(0,r.createTransactionSignedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}trackTransactionSigningFailed(...e){try{const t=(0,r.createTransactionSigningFailedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(t){}}}t.TonConnectTracker=s},1489:function(e,t){"use strict";function n(){return{type:"request-version"}}function o(e){return{type:"response-version",version:e}}function r(e){return{ton_connect_sdk_lib:e.ton_connect_sdk_lib,ton_connect_ui_lib:e.ton_connect_ui_lib}}function i(e,t){var n,o,i,s,c,a,u,l;const d=(null===(n=null===t||void 0===t?void 0:t.connectItems)||void 0===n?void 0:n.tonProof)&&"proof"in t.connectItems.tonProof,f=d?"ton_proof":"ton_addr";return{wallet_address:null!==(i=null===(o=null===t||void 0===t?void 0:t.account)||void 0===o?void 0:o.address)&&void 0!==i?i:null,wallet_type:null!==(s=null===t||void 0===t?void 0:t.device.appName)&&void 0!==s?s:null,wallet_version:null!==(c=null===t||void 0===t?void 0:t.device.appVersion)&&void 0!==c?c:null,auth_type:f,custom_data:Object.assign({chain_id:null!==(u=null===(a=null===t||void 0===t?void 0:t.account)||void 0===a?void 0:a.chain)&&void 0!==u?u:null,provider:null!==(l=null===t||void 0===t?void 0:t.provider)&&void 0!==l?l:null},r(e))}}function s(e){return{type:"connection-started",custom_data:r(e)}}function c(e,t){return Object.assign({type:"connection-completed",is_success:!0},i(e,t))}function a(e,t,n){return{type:"connection-error",is_success:!1,error_message:t,error_code:null!==n&&void 0!==n?n:null,custom_data:r(e)}}function u(e){return{type:"connection-restoring-started",custom_data:r(e)}}function l(e,t){return Object.assign({type:"connection-restoring-completed",is_success:!0},i(e,t))}function d(e,t){return{type:"connection-restoring-error",is_success:!1,error_message:t,custom_data:r(e)}}function f(e,t){var n,o,r,i;return{valid_until:null!==(n=String(t.validUntil))&&void 0!==n?n:null,from:null!==(i=null!==(o=t.from)&&void 0!==o?o:null===(r=null===e||void 0===e?void 0:e.account)||void 0===r?void 0:r.address)&&void 0!==i?i:null,messages:t.messages.map((e=>{var t,n;return{address:null!==(t=e.address)&&void 0!==t?t:null,amount:null!==(n=e.amount)&&void 0!==n?n:null}}))}}function h(e,t,n){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},i(e,t)),f(t,n))}function p(e,t,n,o){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:o.boc},i(e,t)),f(t,n))}function v(e,t,n,o,r){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:o,error_code:null!==r&&void 0!==r?r:null},i(e,t)),f(t,n))}function E(e,t,n){return Object.assign({type:"disconnection",scope:n},i(e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestVersionEvent=n,t.createResponseVersionEvent=o,t.createVersionInfo=r,t.createConnectionStartedEvent=s,t.createConnectionCompletedEvent=c,t.createConnectionErrorEvent=a,t.createConnectionRestoringStartedEvent=u,t.createConnectionRestoringCompletedEvent=l,t.createConnectionRestoringErrorEvent=d,t.createTransactionSentForSignatureEvent=h,t.createTransactionSignedEvent=p,t.createTransactionSigningFailedEvent=v,t.createDisconnectionEvent=E},3533:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.callForSuccess=s;const r=n(1923),i=n(1298);function s(e,t){return o(this,void 0,void 0,(function*(){var n,o;const s=null!==(n=null===t||void 0===t?void 0:t.attempts)&&void 0!==n?n:3,c=null!==(o=null===t||void 0===t?void 0:t.delayMs)&&void 0!==o?o:800;if("function"!==typeof e)throw new r.TonConnectError("Expected a function, got "+typeof e);let a,u=0;while(u<s)try{return yield e()}catch(l){a=l,u++,u<s&&(yield(0,i.delay)(c))}throw a}))}},1298:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.delay=i;const r=n(1923);function i(e,t){return o(this,void 0,void 0,(function*(){return new Promise(((n,o)=>{var i,s;if(null===(i=null===t||void 0===t?void 0:t.signal)||void 0===i?void 0:i.aborted)return void o(new r.TonConnectError("Delay aborted"));const c=setTimeout((()=>n()),e);null===(s=null===t||void 0===t?void 0:t.signal)||void 0===s||s.addEventListener("abort",(()=>{clearTimeout(c),o(new r.TonConnectError("Delay aborted"))}))}))}))}},7677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSendTransactionSupport=i;const o=n(8949),r=n(3507);function i(e,t){const n=e.includes("SendTransaction"),i=e.find((e=>e&&"object"===typeof e&&"SendTransaction"===e.name));if(!n&&!i)throw new o.WalletNotSupportFeatureError("Wallet doesn't support SendTransaction feature.");if(i&&void 0!==i.maxMessages){if(i.maxMessages<t.requiredMessagesNumber)throw new o.WalletNotSupportFeatureError(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${i.maxMessages}, but ${t.requiredMessagesNumber} is required.`)}else(0,r.logWarning)("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}},3507:function(e,t){"use strict";function n(...e){try{console.debug("[TON_CONNECT_SDK]",...e)}catch(t){}}function o(...e){try{console.error("[TON_CONNECT_SDK]",...e)}catch(t){}}function r(...e){try{console.warn("[TON_CONNECT_SDK]",...e)}catch(t){}}Object.defineProperty(t,"__esModule",{value:!0}),t.logDebug=n,t.logError=o,t.logWarning=r},7134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWindow=i,t.tryGetWindowKeys=s,t.getDocument=c,t.getWebPageManifest=a,t.tryGetLocalStorage=u;const o=n(1923),r=n(6098);function i(){if("undefined"!==typeof window)return window}function s(){const e=i();if(!e)return[];try{return Object.keys(e)}catch(t){return[]}}function c(){if("undefined"!==typeof document)return document}function a(){var e;const t=null===(e=i())||void 0===e?void 0:e.location.origin;return t?t+"/tonconnect-manifest.json":""}function u(){if(l())return localStorage;if(d())throw new o.TonConnectError("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return r.InMemoryStorage.getInstance()}function l(){try{return"undefined"!==typeof localStorage}catch(e){return!1}}function d(){return"undefined"!==typeof process&&null!=process.versions&&null!=process.versions.node}},6496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletsListManager=void 0;const o=n(3469);class r{constructor(){this.walletsListCache=null}getWallets(){let e=o.FALLBACK_WALLETS_LIST;return this.walletsListCache=this.walletConfigDTOListToWalletConfigList(e),this.walletsListCache}walletConfigDTOListToWalletConfigList(e){return e.map((e=>{const t={name:e.name,appName:e.app_name,imageUrl:e.image,aboutUrl:e.about_url,tondns:e.tondns,platforms:e.platforms},n=t;return e.bridge.forEach((t=>{"sse"===t.type&&(n.bridgeUrl=t.url,n.universalLink=e.universal_url,n.deepLink=e.deepLink)})),n}))}}t.WalletsListManager=r},2196:function(e,t,n){"use strict";n(4603),n(7566),n(8721);var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletConnector=void 0;const r=n(6387),i=n(2365),s=n(166),c=n(2384),a=(0,s.resolveWebSocketImplementation)();class u{constructor(e){if(this.events=new c.EventEmitter,this.state=r.ConnectorState.InitState,!(0,s.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e}get connected(){return"undefined"!==typeof this.socket}get connecting(){return this.state==r.ConnectorState.Connecting}onPayload(e){"undefined"!==typeof e.data&&(console.log("get received data"),console.log(e.data),this.events.emit("payload",e.data))}onClose(e){this.socket=void 0,this.state=r.ConnectorState.Disconnected,this.events.emit("close",e)}onError(e,t){const n={id:e,msg:t.toString()};this.events.emit("payload",n)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=r.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}registOpen(e=this.url){if(!(0,s.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);if(this.connecting){const e=this.events.getMaxListeners();return(this.events.listenerCount("open")>=e||this.events.listenerCount("fail")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("fail",(e=>{this.events.getMaxListeners()>r.EVENT_EMITTER_MAX_LISTENERS&&this.events.setMaxListeners(r.EVENT_EMITTER_MAX_LISTENERS),t(e)})),this.events.once("open",(()=>{if(this.events.getMaxListeners()>r.EVENT_EMITTER_MAX_LISTENERS&&this.events.setMaxListeners(r.EVENT_EMITTER_MAX_LISTENERS),"undefined"==typeof this.socket)return t(new Error("Connect lost"));e(this.socket)}))}))}this.url=e,this.state=r.ConnectorState.Connecting;new URLSearchParams(e).get("origin");const t={rejectUnauthorized:!1};return new Promise(((n,o)=>{const r=new a(e,[],t);(0,s.hasBuiltInWebSocket)()?r.onerror=e=>{const t=e;o(this.emitError(t.error))}:r.on("error",(e=>{o(this.emitError(e))})),r.onopen=()=>{console.log("socket opened"),this.onopen(r),n(r)}}))}onVisibleChanged(){"visible"===document.visibilityState&&this.state==r.ConnectorState.Connected&&"undefined"===typeof this.socket&&(console.log("CONNECTION need reopen"),this.registOpen())}connect(){return o(this,void 0,void 0,(function*(){yield this.registOpen(this.url),document.removeEventListener("visibilitychange",this.onVisibleChanged),document.addEventListener("visibilitychange",this.onVisibleChanged)}))}disconnect(){return o(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{"undefined"!==typeof this.socket?(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()):t(new Error("CONNECTION closed"))}))}))}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,n,o){this.events.on("payload",(o=>{var r;console.log(`<<< get payload ${o}`),console.log(o);let s=(0,i.safeJsonParse)(o),c=null===(r=s.params.data)||void 0===r?void 0:r.message,a=t(c);n(e,a)})),this.events.on("fail",(t=>{console.log(`CONNECT failed: ${t}`),o(e,t.toString())}))}addPackageParse(e){this.events.on("payload",(t=>o(this,void 0,void 0,(function*(){console.log(`get received e:${t}`);let n=(0,i.safeJsonParse)(t);yield e(n)}))))}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e){return o(this,void 0,void 0,(function*(){"undefined"===typeof this.socket&&(console.log(`>>> send payload undefined ${e}`),this.socket=yield this.registOpen());try{console.log(`>>> send payload ${e}`),this.socket.send((0,i.safeJsonStringify)(e))}catch(t){this.onError(e.id,t)}}))}onOpen(e){this.events.on("open",(()=>o(this,void 0,void 0,(function*(){console.log(">>> ws opened"),yield e()}))))}}t.OKXWalletConnector=u},7413:function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;const r=n(2196),i=n(6387),s=n(2384),c=n(1063),a=n(166),u=n(7586),l=n(439),d=n(2365);class f{constructor(){this.events=new s.EventEmitter,this.connectStorage=new c.Storage(i.OKXCONNECTOR_CACHE_KEY);const e=this.getCachedCryptoKeyPair();this.crypto=new u.SessionCrypto(e),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()),this.connector=new r.OKXWalletConnector(i.OKXCONNECTOR_WS_URL),this.sendEnable=!1,this.packageId=0}saveCryptoKeyPair(e){let t=(0,d.safeJsonStringify)(e);this.connectStorage.saveContent(t,i.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){const e=this.connectStorage.getItem(i.OKXCONNECTOR_CRYPTO_KEY),t=null===e||void 0===e?void 0:e.content;if("string"==typeof t){console.log("get cached crypto key:"),console.log(t);let e=(0,d.safeJsonParse)(t);return e}return this.connectStorage.clearCache(),null}isWalletPKReady(){return"undefined"===typeof this.connectedWalletPK}makeJWT(e){return o(this,void 0,void 0,(function*(){return yield(0,l.signJWT)(e,i.OKXCONNECTOR_JWT_SIDE,i.OKXCONNECTOR_JWT_TTL,{publicKey:this.crypto.keyPair.publicKey,secretKey:this.crypto.keyPair.secretKey})}))}parsePackage(e,t=!1){const n=parseInt(e.id);n>this.packageId&&(this.packageId=n),this.events.emit(e.id,e),t||this.sendACK(e.id,!0)}connect(){return o(this,void 0,void 0,(function*(){let e=this.connectStorage.getItem(i.OKXCONNECTOR_TOKEN_CACHE);var t=(0,a.generateTopic)();"undefined"!==typeof e&&null!==e&&(console.log(`read last connect id: ${e}`),t=e.content),console.log(`generate topic token: ${t}`),this.connectStorage.saveContent(t,i.OKXCONNECTOR_TOKEN_CACHE);var n=yield this.makeJWT(t);console.log(`generate jwt token: ${n}`),this.connectStorage.saveContent(n,"jwt"),this.connector.onOpen((()=>o(this,void 0,void 0,(function*(){console.log("1. connector on open"),this.events.once(this.packageId.toString(),(()=>o(this,void 0,void 0,(function*(){this.packageId+=1,this.events.once(this.packageId.toString(),(()=>{this.packageId+=1,console.log("4. subscribe callback")})),console.log("3. login callback"),yield this.connector.send({id:this.packageId.toString(),jsonrpc:i.CONNECT_JSONRPC_VER,method:i.CONNECT_METHOD_SUB,params:{topic:t}})})))),console.log("2. login called"),yield this.connector.send({id:this.packageId.toString(),jsonrpc:i.CONNECT_JSONRPC_VER,method:i.CONNECT_METHOD_LOGIN,params:{token:n}}),this.connector.addPackageParse((e=>{var t;if(console.log("connect: parse package"),console.log(e),!("params"in e)||!("data"in e["params"]))return console.log("connect: TEST: received msg"),void this.parsePackage(e,!0);let n=null===(t=e.params.data)||void 0===t?void 0:t.message;if("undefined"!==typeof n){let e=(0,d.safeJsonParse)(n);"string"!==typeof e&&"clientId"in e&&(this.connectedWalletPK=e.clientId)}this.parsePackage(e)}))})))),yield this.connector.connect();const r={channelId:t,clientId:this.crypto.stringifyKeypair().publicKey};return r}))}disconnect(){return o(this,void 0,void 0,(function*(){yield this.connector.disconnect(),this.connectStorage.clearCache()}))}addListener(e,t,n){this.connector.addListener((0,d.safeJsonStringify)(e),(e=>{if(this.isWalletPKReady())throw new Error("connection not finish");return this.crypto.decrypt(e,this.connectedWalletPK)}),t,n)}send(e){return o(this,void 0,void 0,(function*(){if(console.log(`messagesend =====> ${e}`),this.isWalletPKReady())throw new Error("connection not finish");let t=this.crypto.encrypt(e,this.connectedWalletPK),n=this.connectStorage.getItem("topic");const o={id:this.packageId.toString(),method:i.CONNECT_METHOD_PUBLISH,jsonrpc:i.CONNECT_JSONRPC_VER,params:{message:{messageId:(0,a.hashKey)(t),topic:n,message:t,ttl:i.OKXCONNECTOR_MESSAGE_TTL}}};yield this.connector.send(o)}))}sendACK(e,t){return o(this,arguments,void 0,(function*(e,t,n=void 0){if(!0===t){const t={id:e,jsonrpc:i.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(t)}else if(n){const e={id:this.packageId.toString(),jsonrpc:i.CONNECT_JSONRPC_VER,error:{code:n.code,message:n.message}};yield this.connector.send(e)}}))}getCryptoInfo(){const e=this.crypto.stringifyKeypair(),t=this.connectStorage.getItem("jwt");return{kp:e,topic:this.connectStorage.getItem("topic"),jwt:null===t||void 0===t?void 0:t.content}}cleanCache(){return o(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}}t.ConnectionManager=f},6387:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorState=t.CONNECT_METHOD_UNSUB=t.CONNECT_METHOD_SUB=t.CONNECT_METHOD_PUBLISH=t.CONNECT_METHOD_LOGIN=t.CONNECT_METHOD_PUSH=t.CONNECT_JSONRPC_VER=t.OKXCONNECTOR_MESSAGE_TTL=t.OKXCONNECTOR_JWT_TTL=t.OKXCONNECTOR_TOKEN_CACHE=t.OKXCONNECTOR_CRYPTO_KEY=t.OKXCONNECTOR_CACHE_KEY=t.OKXCONNECTOR_JWT_SIDE=t.OKXCONNECTOR_WS_URL=t.EVENT_EMITTER_MAX_LISTENERS=void 0,t.EVENT_EMITTER_MAX_LISTENERS=10,t.OKXCONNECTOR_WS_URL="wss://websocket-echo.glitch.me",t.OKXCONNECTOR_JWT_SIDE="wallet",t.OKXCONNECTOR_CACHE_KEY="test_key",t.OKXCONNECTOR_CRYPTO_KEY="test_crypto_key",t.OKXCONNECTOR_TOKEN_CACHE="test_token",t.OKXCONNECTOR_JWT_TTL=86400,t.OKXCONNECTOR_MESSAGE_TTL=300,t.CONNECT_JSONRPC_VER="2.0",t.CONNECT_METHOD_PUSH="push",t.CONNECT_METHOD_LOGIN="login",t.CONNECT_METHOD_PUBLISH="publish",t.CONNECT_METHOD_SUB="subscribe",t.CONNECT_METHOD_UNSUB="unsubscribe",t.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3}},439:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},s=this&&this.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function s(e){try{a(o.next(e))}catch(t){i(t)}}function c(e){try{a(o["throw"](e))}catch(t){i(t)}}function a(e){e.done?n(e.value):r(e.value).then(s,c)}a((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MULTICODEC_ED25519_LENGTH=t.MULTICODEC_ED25519_HEADER=t.MULTICODEC_ED25519_BASE=t.MULTICODEC_ED25519_ENCODING=t.DID_METHOD=t.DID_PREFIX=t.DID_DELIMITER=t.KEY_PAIR_SEED_LENGTH=t.DATA_ENCODING=t.JSON_ENCODING=t.JWT_ENCODING=t.JWT_DELIMITER=t.JWT_IRIDIUM_TYP=t.JWT_IRIDIUM_ALG=t.JWTHeaderType=void 0,t.generateKeyPair=h,t.decodeJSON=p,t.encodeJSON=v,t.encodeIss=E,t.decodeIss=g,t.encodeSig=y,t.decodeSig=O,t.encodeData=_,t.decodeData=C,t.encodeJWT=R,t.decodeJWT=b,t.signJWT=N,t.verifyJWT=S;const c=i(n(7409)),a=n(1261),u=n(1842),l=n(5709),d=n(5454),f=n(2365);function h(e){let n=(0,a.randomBytes)(t.KEY_PAIR_SEED_LENGTH);return c.generateKeyPairFromSeed(n)}function p(e){return(0,f.safeJsonParse)((0,l.toString)((0,d.fromString)(e,t.JWT_ENCODING),t.JSON_ENCODING))}function v(e){return(0,l.toString)((0,d.fromString)((0,f.safeJsonStringify)(e),t.JSON_ENCODING),t.JWT_ENCODING)}function E(e){const n=(0,d.fromString)(t.MULTICODEC_ED25519_HEADER,t.MULTICODEC_ED25519_ENCODING),o=t.MULTICODEC_ED25519_BASE+(0,l.toString)((0,u.concat)([n,e]),t.MULTICODEC_ED25519_ENCODING);return[t.DID_PREFIX,t.DID_METHOD,o].join(t.DID_DELIMITER)}function g(e){const[n,o,r]=e.split(t.DID_DELIMITER);if(n!==t.DID_PREFIX||o!==t.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');const i=r.slice(0,1);if(i!==t.MULTICODEC_ED25519_BASE)throw new Error("Issuer must be a key in mulicodec format");const s=(0,d.fromString)(r.slice(1),t.MULTICODEC_ED25519_ENCODING),c=(0,l.toString)(s.slice(0,2),t.MULTICODEC_ED25519_ENCODING);if(c!==t.MULTICODEC_ED25519_HEADER)throw new Error('Issuer must be a public key with type "Ed25519"');const a=s.slice(2);if(a.length!==t.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return a}function y(e){return(0,l.toString)(e,t.JWT_ENCODING)}function O(e){return(0,d.fromString)(e,t.JWT_ENCODING)}function _(e){return(0,d.fromString)([v(e.header),v(e.payload)].join(t.JWT_DELIMITER),t.DATA_ENCODING)}function C(e){const n=(0,l.toString)(e,t.DATA_ENCODING).split(t.JWT_DELIMITER),o=p(n[0]),r=p(n[1]);return{header:o,payload:r}}function R(e){return[v(e.header),v(e.payload),y(e.signature)].join(t.JWT_DELIMITER)}function b(e){const n=e.split(t.JWT_DELIMITER),o=p(n[0]),r=p(n[1]),i=O(n[2]),s=(0,d.fromString)(n.slice(0,2).join(t.JWT_DELIMITER),t.DATA_ENCODING);return{header:o,payload:r,signature:i,data:s}}function N(e,n,o,r){return s(this,arguments,void 0,(function*(e,n,o,r,i=Math.floor(Date.now()/1e3)){const s={alg:t.JWT_IRIDIUM_ALG,typ:t.JWT_IRIDIUM_TYP},a=E(r.publicKey),u=i+o,l={iss:a,sub:e,aud:n,iat:i,exp:u},d=_({header:s,payload:l}),f=c.sign(r.secretKey,d);return R({header:s,payload:l,signature:f})}))}function S(e){return s(this,void 0,void 0,(function*(){const{header:n,payload:o,data:r,signature:i}=b(e);if(n.alg!==t.JWT_IRIDIUM_ALG||n.typ!==t.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");const s=g(o.iss);return c.verify(s,r,i)}))}t.JWTHeaderType="dapp",t.JWT_IRIDIUM_ALG="EdDSA",t.JWT_IRIDIUM_TYP="JWT",t.JWT_DELIMITER=".",t.JWT_ENCODING="base64url",t.JSON_ENCODING="utf8",t.DATA_ENCODING="utf8",t.KEY_PAIR_SEED_LENGTH=32,t.DID_DELIMITER=":",t.DID_PREFIX="did",t.DID_METHOD="key",t.MULTICODEC_ED25519_ENCODING="base58btc",t.MULTICODEC_ED25519_BASE="z",t.MULTICODEC_ED25519_HEADER="K36",t.MULTICODEC_ED25519_LENGTH=32},1063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;const o=n(166),r=n(2365);class i{constructor(e){const t=(0,o.resolveLocalStorage)();this.subKey=e,console.log("--------get current local storage --------"),console.log(t);const n=t.getItem(i.cacheKey+e);if("undefined"===typeof n||null===n)return console.log("with no cache"),void(this.cache={});console.log(n);var s=(0,r.safeJsonParse)(n);this.cache=s,console.log(`get cache obj: ${this.cache}`),"undefined"!==typeof this.cache&&null!=this.cache||(this.cache={})}saveContent(e,t,n="-"){let o={id:n,timestamp:Date.now().toString(),content:e};this.saveItem(o,t)}saveItem(e,t){let n=i.cacheKey+this.subKey;const s=(0,o.resolveLocalStorage)();console.log(this.cache),console.log(`get cache obj: ${this.cache}, ${t}, ${e}`),this.cache[t]=e;let c=(0,r.safeJsonStringify)(this.cache);console.log(`STORAGE: ${t} @ ${this.cache}`),s.setItem(n,c)}getItem(e){return console.log(`STORAGE: ${e} @ ${this.cache}`),this.cache[e]}clearCache(){this.cache={};let e=i.cacheKey+this.subKey;localStorage.setItem(e,"")}}t.Storage=i,i.cacheKey="OKXStorageKey"},7586:function(e,t,n){"use strict";n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;const s=i(n(2132)),c=n(166);class a{constructor(e){this.nonceLength=24,this.sessionId="",this.keyPair={publicKey:new Uint8Array,secretKey:new Uint8Array},this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=(0,c.toHexString)(this.keyPair.publicKey)}createKeypair(){return s.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,c.hexToByteArray)(e.publicKey),secretKey:(0,c.hexToByteArray)(e.secretKey)}}createNonce(){return s.default.randomBytes(this.nonceLength)}encrypt(e,t){const n=(new TextEncoder).encode(e),o=this.createNonce(),r=s.default.box(n,o,t,this.keyPair.secretKey);return(0,c.concatUint8Arrays)(o,r)}decrypt(e,t){const[n,o]=(0,c.splitToUint8Arrays)(e,this.nonceLength),r=s.default.box.open(o,n,t,this.keyPair.secretKey);if(!r)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${this.keyPair.publicKey.toString()} \n keypair secretkey: ${this.keyPair.secretKey.toString()}`);return(new TextDecoder).decode(r)}stringifyKeypair(){return{publicKey:(0,c.toHexString)(this.keyPair.publicKey),secretKey:(0,c.toHexString)(this.keyPair.secretKey)}}}t.SessionCrypto=a},5361:function(e,t){"use strict";function n(e){let t=`{ "protocolVer":1, "channelId":"${e.channelId}", "clientId":"${e.clientId}", "dAppInfo":{ "url":"url", "name":"testApp", "iconUrl":"url" }, "requestId":"${e.requestId}", "requests":[ { "name":"ton_addr" }, { "name":"ton_proof", "payload":"${e.testPayload}"}], "redirect":"${e.redirect}" }`,n=Buffer.from(t).toString("base64");return`https://www.okx.com/download?deeplink=okx%3A%2F%2Fweb3%2Fwallet%2Fconnect%3Fparam%3D${n}`}Object.defineProperty(t,"__esModule",{value:!0}),t.generateOKXLink=n},2365:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=r,t.safeJsonStringify=i;const n=e=>JSON.stringify(e,((e,t)=>"bigint"===typeof t?t.toString()+"n":t)),o=e=>{const t=/(?<!")(?<=:)\b(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,n=e.replace(t,(e=>`"${e}n"`));return JSON.parse(n,((e,t)=>{const n="string"===typeof t&&t.match(/^\d+n$/);return n?BigInt(t.substring(0,t.length-1)):t}))};function r(e){if("string"!==typeof e)throw console.log(e),new Error("Cannot safe json parse value of type "+typeof e);try{return o(e)}catch(t){return console.error("safeJsonParse error:",t),e}}function i(e){return"string"===typeof e?e:n(e)||""}},166:function(e,t,n){"use strict";n(6573),n(8100),n(7936),n(7467),n(4732),n(9577);var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RANDOM_LENGTH=t.isBrowser=t.resolveLocalStorage=t.hasLocalStorage=t.hasBuiltInWebSocket=t.resolveWebSocketImplementation=void 0,t.hexToByteArray=d,t.toHexString=f,t.concatUint8Arrays=h,t.splitToUint8Arrays=p,t.base64encode=g,t.base64decode=y,t.checkWSUrl=O,t.hashKey=S,t.generateRandomBytes32=T,t.generateTopic=m,t.generateDeepLink=w;const r=o(n(2132)),i=n(5454),s=n(5709),c=n(7557),a=n(2365),u=n(5361),l="base16";function d(e){if(e.length%2!==0)throw new Error(`Cannot convert ${e} to bytesArray`);const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function f(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t}function h(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function p(e,t){if(t>=e.length)throw new Error("Index is out of buffer");const n=e.slice(0,t),o=e.slice(t);return[n,o]}function v(e,t){const n=r.default.encodeBase64(e);return t?encodeURIComponent(n):n}function E(e,t){return t&&(e=decodeURIComponent(e)),r.default.decodeBase64(e)}function g(e,t){let n;return e instanceof Uint8Array?n=e:("string"!==typeof e&&(e=(0,a.safeJsonStringify)(e)),n=r.default.decodeUTF8(e)),v(n,t)}function y(e,t){const n=E(e,t);return{toString(){return r.default.encodeUTF8(n)},toObject(){try{return(0,a.safeJsonParse)(r.default.encodeUTF8(n))}catch(e){return null}},toUint8Array(){return n}}}function O(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let n=t[0];return new RegExp("^wss?:").test(n)}const _=()=>"undefined"!==typeof WebSocket?WebSocket:"undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket?n.g.WebSocket:"undefined"!==typeof window&&"undefined"!==typeof window.WebSocket?window.WebSocket:"undefined"!==typeof self&&"undefined"!==typeof self.WebSocket?self.WebSocket:n(146);t.resolveWebSocketImplementation=_;const C=()=>"undefined"!==typeof WebSocket||"undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket||"undefined"!==typeof window&&"undefined"!==typeof window.WebSocket||"undefined"!==typeof self&&"undefined"!==typeof self.WebSocket;t.hasBuiltInWebSocket=C;const R=()=>"undefined"!==typeof n.g&&"undefined"!==typeof n.g.LocalStorage||"undefined"!==typeof window&&"undefined"!==typeof window.LocalStorage;t.hasLocalStorage=R;const b=()=>"undefined"!==typeof n.g&&"undefined"!==typeof n.g.LocalStorage?n.g.LocalStorage:"undefined"!==typeof window&&"undefined"!==typeof window.LocalStorage?window.LocalStorage:localStorage;t.resolveLocalStorage=b;const N=()=>"undefined"!==typeof window;function S(e){console.log(`hash key called ${e}`);const t=(0,c.hash)((0,i.fromString)(e,l));return(0,s.toString)(t,l)}function T(){return r.default.randomBytes(t.RANDOM_LENGTH)}function m(){let e=T();return console.log(`generate topic called ${e}`),S((0,s.toString)(e,l))}function w(e,t,n){return(0,u.generateOKXLink)({topic:e,publicKey:t,ret:n})}t.isBrowser=N,t.RANDOM_LENGTH=32},197:function(e,t,n){"use strict";var o=n(5130),r=n(6768),i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTk2QkI4RkE3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTk2QkI4Rjk3NjE2MTFFNUE4NEU4RkIxNjQ5MTYyRDgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzk3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyN0E3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5WHowqAAAXNElEQVR42uxda4xd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";const s=(0,r.Lk)("img",{alt:"Vue logo",src:i},null,-1);function c(e,t,n,o,i,c){const a=(0,r.g2)("HelloWorld");return(0,r.uX)(),(0,r.CE)(r.FK,null,[s,(0,r.bF)(a,{msg:"OKX connect test App"})],64)}var a=n(4232);const u={class:"hello"},l=(0,r.Fv)('<p data-v-b9167eee> For a guide and recipes on how to configure / customize this project,<br data-v-b9167eee> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-cli documentation</a>. </p><h3 data-v-b9167eee>Installed CLI Plugins</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-b9167eee>babel</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener" data-v-b9167eee>eslint</a></li></ul><h3 data-v-b9167eee>Essential Links</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Core Docs</a></li><li data-v-b9167eee><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Forum</a></li><li data-v-b9167eee><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>Community Chat</a></li><li data-v-b9167eee><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-b9167eee>Twitter</a></li><li data-v-b9167eee><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>News</a></li></ul><h3 data-v-b9167eee>Ecosystem</h3><ul data-v-b9167eee><li data-v-b9167eee><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-router</a></li><li data-v-b9167eee><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vuex</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-b9167eee>vue-devtools</a></li><li data-v-b9167eee><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-b9167eee>vue-loader</a></li><li data-v-b9167eee><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-b9167eee>awesome-vue</a></li></ul>',7);function d(e,t,n,o,i,s){return(0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("h1",null,(0,a.v_)(n.msg),1),l])}var f={name:"HelloWorld",props:{msg:String}},h=n(1241);const p=(0,h.A)(f,[["render",d],["__scopeId","data-v-b9167eee"]]);var v=p,E=n(409);console.log("sdk",E.OKXWalletConnector,new E.OKXWalletConnector("wss://www.baidu.com"),(0,E.hexToByteArray)("0x1234"),new E.OKXTonConnect({metaData:{name:"测试dapp",icon:"",url:""}}));var g={name:"App",components:{HelloWorld:v}};const y=(0,h.A)(g,[["render",c]]);var O=y;(0,o.Ef)(O).mount("#app")},5444:function(){},8581:function(){}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var s=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],i=e[l][2];for(var c=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[a])}))?o.splice(a--,1):(c=!1,i<s&&(s=i));if(c){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,s=o[0],c=o[1],a=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in c)n.o(c,r)&&(n.m[r]=c[r]);if(a)var l=a(n)}for(t&&t(o);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},o=self["webpackChunktestproject"]=self["webpackChunktestproject"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(197)}));o=n.O(o)})();
//# sourceMappingURL=app.7f958a2d.js.map